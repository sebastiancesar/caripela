<ion-content padding>
    <ion-grid>
        <ion-row>
            <ion-col col-11>
                <camera-preview [videoSource]="videoSource"></camera-preview>
            </ion-col>
            <ion-col col-1>
                <div class="progress progress-bar-vertical">
                    <div class="progress-bar progress-bar-success" 
                        [style.height]="heightBar">                        
                    </div>
                </div>
            </ion-col>
        </ion-row>        
        
        <ion-row>
            <ion-card>
                <ion-item >
                    <ion-avatar item-start>
                        <img [src]="faceToGet.img || ''">
                    </ion-avatar>
                    <div text-center class="face-label">
                        {{faceToGet.label || ''}}
                    </div>
                    <div class="">
                        <ion-row text-center 
                            [@cheerPoints]="cheerPoints ? 'cheering' : 'notCheering'"
                            (@cheerPoints.done)="cheerPointsDone($event)">
                            <ion-col>
                                <ion-icon name="happy" 
                                    class="points happy"
                                    [@showPoint]="pointsState[0]"
                                    (@showPoint.done)="showPointDone($event)">
                                </ion-icon>
                            </ion-col>
                            <ion-col>
                                <ion-icon name="bowtie" 
                                    class="points bowtie"
                                    [@showPoint]="pointsState[1]"
                                    (@showPoint.done)="showPointDone($event)">
                                </ion-icon>
                            </ion-col>
                            <ion-col>
                                <ion-icon name="pizza" 
                                    class="points pizza"
                                    [@showPoint]="pointsState[2]"
                                    (@showPoint.done)="showPointDone($event)">                
                                </ion-icon>
                            </ion-col>
                        </ion-row>
                    </div>
                </ion-item>
            </ion-card>            
        </ion-row>
        <ion-row padding-top>
            <ion-col col-2>
                <br><br>
                <div class="global-points">
                    <ion-icon name="trophy"></ion-icon><span class="global-points"> {{globalPoints}}</span>
                </div>
            </ion-col>
            <ion-col offset-2 col-5>
                <br><br>                
                <final-countdown [options]="countdownOptions">
                </final-countdown>
            </ion-col>            
        </ion-row>        
    </ion-grid>

    <ion-fab right middle>
        <button *ngIf="!isPlaying" ion-fab color="secondary" (click)="start()">
            <ion-icon name="flash"></ion-icon>
        </button>
    </ion-fab>

    <ion-fab right bottom>        
        <button ion-fab color="light" (click)="stop()">
            <ion-icon name="square"></ion-icon>
        </button>
    </ion-fab>
    <ion-fab center left>
        <button ion-fab color="light" (click)="predictMock()">
            <ion-icon name="color-wand"></ion-icon>
        </button>            
    </ion-fab> 
</ion-content>